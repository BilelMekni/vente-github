<app-banner title="PURCHASE PRODUCTS TABLE"></app-banner>
<form action="" class="m-3">
  <h3>HELLOW MY FILTER</h3>
  <div class="control-group  text-center">
    <input type="text" [(ngModel)]='term' [ngModelOptions]="{standalone: 
      true}" class="inpt">
  </div>
</form>
<table class="table table-striped table-success">
    <thead>
      <tr style="background-color: rgb(135, 152, 222);">
        <th scope="col">Image</th>
        <th scope="col">ID</th>
        <th scope="col">FirstName</th>
        <th scope="col">LastName</th>
        <th scope="col">Phone</th>
        <th scope="col">Email</th>
        <th scope="col">Type</th>
        <th scope="col">Products</th>
        <th scope="col">Price</th>
        <th scope="col">Quantity</th>
        <th scope="col">Status</th>
        <th scope="col">FirstName & LastName</th>
        <th scope="col">Mobile</th>
        <th scope="col">Adresse</th>
        <th scope="col">Actions</th>


      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let p of pageOfItems | myFilter:term ">
        <th><img class="img-fluid" src="assets/img/purchase.png" alt="" /> </th>
        <th scope="row">{{p._id}}</th>
        <td>{{p.firstName}}</td>
        <td>{{p.lastName}}</td>
        <td>{{p.phone}}</td>
        <td>{{p.email}}</td>
        <td>{{p.type}}</td>
        <td>{{p.products}}</td>
        <td>{{p.price}}</td>
        <td>{{p.quantity}}</td>
        <td>{{p.status}}</td>
        <td>{{p.pure[0]?.firstName}} {{p.pure[0]?.lastName}} </td>
        <td>{{p.pure[0]?.telephone}}</td>
        <td>{{p.pure[0]?.adresse}}</td>
        <td class="card-footer d-flex justify-content-between bg-light border">
            <button type="button" (click)="confirmePurchase(p._id)"  > <img src="/assets/img/confirme.jpg" height ="50" width="50" title="Confirme Purchase" /></button>
            <button type="button"  (click)="updatePurchase(p._id)" > <img src="/assets/img/modifier.png" height ="50" width="50" title="Update Purchase" /></button>
            <button type="button" (click)="deletePurchase(p._id)" > <img src="/assets/img/delete.png" height ="50" width="50" title="Delete Purchase" /></button>
        </td>


      </tr>
      
    </tbody>
    
  </table>
  <div class="card-footer pb-0 pt-3">
    <jw-pagination 
   [items]="purchase" [pageSize]="2" (changePage)="onChangePage($event)"></jw-pagination>
   </div>